<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <title>tips2023_01_04_01</title>
  </head>
  <body>tips2023_01_04_01<br>
    <br>
    Q<br>
    &nbsp;&nbsp;&nbsp; (python) how to make drag and drop UI?<br>
    <br>
    A<br>
    &nbsp;&nbsp;&nbsp; example :
    D:\myworks\project_github\practicePython\tkinter\ref_dragdrop.py<br>
    &nbsp;&nbsp;&nbsp; <br>
    <img src="data:image/png;base64,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"
      alt="">&nbsp;&nbsp;&nbsp; <br>
    <br>
    ファイルのパスを表示するだけのUI<br>
    <div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span
style="color: #6a9955;">#https://stackoverflow.com/questions/14267900/drag-and-drop-explorer-files-to-tkinter-entry-widget/46865239#46865239</span></div><br><div><span
style="color: #c586c0;">from</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">tkinter</span><span
style="color: #d4d4d4;"> </span><span style="color: #c586c0;">import</span><span
style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">filedialog</span><span
style="color: #d4d4d4;"> ,</span><span style="color: #4ec9b0;">Tk</span><span style="color: #d4d4d4;">,</span><span
style="color: #4ec9b0;">Frame</span><span style="color: #d4d4d4;">,</span><span
style="color: #4ec9b0;">IntVar</span><span style="color: #d4d4d4;">,</span><span
style="color: #4ec9b0;">Label</span><span style="color: #d4d4d4;">,</span><span
style="color: #4ec9b0;">Radiobutton</span><span style="color: #d4d4d4;">,</span><span
style="color: #4ec9b0;">Button</span><span style="color: #d4d4d4;">,</span><span
style="color: #4ec9b0;">Listbox</span><span style="color: #d4d4d4;">,</span><span
style="color: #4fc1ff;">END</span></div><div><span style="color: #c586c0;">from</span><span
style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">subprocess</span><span
style="color: #d4d4d4;"> </span><span style="color: #c586c0;">import</span><span
style="color: #d4d4d4;"> </span><span style="color: #dcdcaa;">run</span></div><div><span
style="color: #c586c0;">from</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">tkinterdnd2</span><span
style="color: #d4d4d4;"> &nbsp;</span><span style="color: #c586c0;">import</span><span
style="color: #d4d4d4;"> </span><span style="color: #4fc1ff;">DND_FILES</span><span
style="color: #d4d4d4;">, </span><span style="color: #4ec9b0;">TkinterDnD</span></div><br><div><span
style="color: #9cdcfe;">root</span><span style="color: #d4d4d4;"> = </span><span
style="color: #4ec9b0;">TkinterDnD</span><span style="color: #d4d4d4;">.</span><span
style="color: #4ec9b0;">Tk</span><span style="color: #d4d4d4;">() &nbsp;</span><span
style="color: #6a9955;"># NB - use this instead of tk.Tk()</span></div><div><span
style="color: #9cdcfe;">mylistbox</span><span style="color: #d4d4d4;">=</span><span
style="color: #4ec9b0;">Listbox</span><span style="color: #d4d4d4;">(</span><span
style="color: #9cdcfe;">root</span><span style="color: #d4d4d4;">,</span><span style="color: #9cdcfe;">width</span><span
style="color: #d4d4d4;">=</span><span style="color: #b5cea8;">200</span><span style="color: #d4d4d4;">,</span><span
style="color: #9cdcfe;">height</span><span style="color: #d4d4d4;">=</span><span
style="color: #b5cea8;">16</span><span style="color: #d4d4d4;">)</span><span style="color: #6a9955;"># width and height by character count</span></div><div><span
style="color: #9cdcfe;">mylistbox</span><span style="color: #d4d4d4;">.</span><span
style="color: #dcdcaa;">insert</span><span style="color: #d4d4d4;">(</span><span
style="color: #b5cea8;">1</span><span style="color: #d4d4d4;">, </span><span style="color: #ce9178;">"dragdrop file here"</span><span
style="color: #d4d4d4;">)</span></div><div><span style="color: #9cdcfe;">mylistbox</span><span
style="color: #d4d4d4;">.drop_target_register(</span><span style="color: #4fc1ff;">DND_FILES</span><span
style="color: #d4d4d4;">)</span></div><br><div><span style="color: #569cd6;">def</span><span
style="color: #d4d4d4;"> </span><span style="color: #dcdcaa;">mycallbackfunc</span><span
style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">event</span><span
style="color: #d4d4d4;">):</span></div><div><span style="color: #d4d4d4;">&nbsp; &nbsp; </span><span
style="color: #6a9955;"># this is very important to get the file path</span></div><div><span
style="color: #d4d4d4;">&nbsp; &nbsp; </span><span style="color: #9cdcfe;">files</span><span
style="color: #d4d4d4;"> = </span><span style="color: #9cdcfe;">mylistbox</span><span
style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">tk</span><span style="color: #d4d4d4;">.</span><span
style="color: #dcdcaa;">splitlist</span><span style="color: #d4d4d4;">(</span><span
style="color: #9cdcfe;">event</span><span style="color: #d4d4d4;">.data) </span><span
style="color: #6a9955;"># ref - https://github.com/Eliav2/tkinterdnd2/blob/master/demos/demo_files_and_text.py</span></div><div><span
style="color: #d4d4d4;">&nbsp; &nbsp; </span><span style="color: #dcdcaa;">print</span><span
style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">files</span><span
style="color: #d4d4d4;">)</span></div><br><div><span style="color: #9cdcfe;">mylistbox</span><span
style="color: #d4d4d4;">.dnd_bind(</span><span style="color: #ce9178;">'&lt;&lt;Drop&gt;&gt;'</span><span
style="color: #d4d4d4;">, </span><span style="color: #dcdcaa;">mycallbackfunc</span><span
style="color: #d4d4d4;">)</span></div><br><div><span style="color: #9cdcfe;">mylistbox</span><span
style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">pack</span><span style="color: #d4d4d4;">()</span></div><div><span
style="color: #9cdcfe;">root</span><span style="color: #d4d4d4;">.mainloop()<br><br></span></div></div></body></html>